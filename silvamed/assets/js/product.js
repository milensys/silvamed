!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=13)}({13:function(e,t,i){"use strict";var n,s=i(4),r=(n=s)&&n.__esModule?n:{default:n};$(document).ready((function(){var e=$("#product-card");if(e.length){var t=new r.default(e);t.init(!0,!0,!0,!0,!1,!1,"3-3-3"),prestashop.on("updatedProduct",(function(e){if(e&&e.product_minimal_quantity){var i=parseInt(e.product_minimal_quantity,10);$("#quantity_wanted").trigger("touchspin.updatesettings",{min:i})}t.init(!0,!0,!0,!1,!1,!1,"3-3-3")}))}}))},2:function(e,t,i){"use strict";(function(n){var s;void 0===(s=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};function t(){var e,t;this.q=[],this.add=function(e){this.q.push(e)},this.call=function(){for(e=0,t=this.q.length;e<t;e++)this.q[e].call()}}function i(i,n){if(i.resizedAttached){if(i.resizedAttached)return void i.resizedAttached.add(n)}else i.resizedAttached=new t,i.resizedAttached.add(n);i.resizeSensor=document.createElement("div"),i.resizeSensor.className="resize-sensor";var s="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;",r="position: absolute; left: 0; top: 0; transition: 0s;";i.resizeSensor.style.cssText=s,i.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+s+'"><div style="'+r+'"></div></div><div class="resize-sensor-shrink" style="'+s+'"><div style="'+r+' width: 200%; height: 200%"></div></div>',i.appendChild(i.resizeSensor),"static"==function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}(i,"position")&&(i.style.position="relative");var o=i.resizeSensor.childNodes[0],l=o.childNodes[0],a=i.resizeSensor.childNodes[1],c=function(){l.style.width="100000px",l.style.height="100000px",o.scrollLeft=1e5,o.scrollTop=1e5,a.scrollLeft=1e5,a.scrollTop=1e5};c();var d,u,p,h,f=!1;e((function t(){i.resizedAttached&&(f&&(i.resizedAttached.call(),f=!1),e(t))}));var v=function(){(p=i.offsetWidth)==d&&(h=i.offsetHeight)==u||(f=!0,d=p,u=h),c()},w=function(e,t,i){e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i)};w(o,"scroll",v),w(a,"scroll",v)}var n=function(e,t){var n=Object.prototype.toString.call(e),s=this._isCollectionTyped="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"undefined"!=typeof jQuery&&e instanceof window.jQuery||"undefined"!=typeof Elements&&e instanceof window.Elements;if(this._element=e,s)for(var r=0,o=e.length;r<o;r++)i(e[r],t);else i(e,t)};return n.prototype.detach=function(){var e=this._isCollectionTyped,t=this._element;if(e)for(var i=0,s=t.length;i<s;i++)n.detach(t[i]);else n.detach(t)},n.detach=function(e){e.resizeSensor&&(e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)},n}.call(t,i,t,e))||(e.exports=s)}).call(this,i(2))},4:function(module,exports,__webpack_require__){"use strict";(function(ResizeSensor){Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ProductCommons=function(){function ProductCommons(e){_classCallCheck(this,ProductCommons),this.el=e}return _createClass(ProductCommons,[{key:"productSpin",value:function(e){var t=$(e.find("#quantity_wanted"));t.TouchSpin({verticalbuttons:!0,verticalup:"",verticaldown:"",verticalupclass:"linearicons-plus",verticaldownclass:"linearicons-minus",buttondown_class:"btn btn-link",buttonup_class:"btn btn-link",min:parseInt(t.attr("min"),10),max:1e6}),t.on("change keyup",(function(e){$(e.currentTarget).trigger("touchspin.stopspin"),prestashop.emit("updateProduct",{eventType:"updatedProductQuantity",event:e})}))}},{key:"inputFile",value:function(e){$(e.find(".js-file-input")).on("change",(function(e){var t,i=void 0;(t=$(e.currentTarget)[0])&&(i=t.files[0])&&$(t).prev().find(".js-file-name").text(i.name)}))}},{key:"coverImage",value:function(e){$(e.find(".js-thumb")).on("click",(function(t){$(e.find(".selected")).removeClass("selected"),$(t.target).addClass("selected"),$(e.find(".js-qv-product-cover")).prop("src",$(t.currentTarget).data("image-large-src"))}))}},{key:"slider",value:function(e){new Swiper(e.find(".swiper-container"),{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init:function(){this.slideTo($(".js-thumb.selected").data("index"),0),this.isBeginning&&this.isEnd&&(this.allowTouchMove=!1,$(this.$el.children(".swiper-pagination, .swiper-button-next, .swiper-button-prev")).hide())},resize:function(){this.isBeginning&&this.isEnd?(this.allowTouchMove=!1,$(this.$el.children(".swiper-pagination, .swiper-button-next, .swiper-button-prev")).hide()):(this.allowTouchMove=!0,$(this.$el.children(".swiper-pagination, .swiper-button-next, .swiper-button-prev")).show())},slideChange:function(){this.$el.find(".js-thumb.selected").removeClass("selected"),$(this.slides[this.activeIndex]).find(".js-thumb").addClass("selected")}}})}},{key:"gallery",value:function gallery(el,createGallery,observer){var count=createGallery.match(/[0-9]/g),gallery=new Swiper(el.find(".swiper-container"),{slidesPerView:count[0],spaceBetween:10,observer:observer,observeParents:observer,slideToClickedSlide:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init:function(){var e=this;this.slideTo($(".js-thumb.selected").data("index"),0),$(this.slides[$(".js-thumb.selected").data("index")]).find("img").click(),this.isBeginning&&this.isEnd&&(this.allowTouchMove=!1,$(this.$el.children(".swiper-pagination, .swiper-button-next, .swiper-button-prev")).hide()),el.find('[class*="product-cover"] [class*="swiper-button"]').on("click",(function(t){var i=$(e.$el.find(".selected")).data("index");$(t.target).hasClass("swiper-button-prev")?($(e.slides[0!==i?i-1:e.slides.length-1]).find("img").click(),e.slideTo(0!==i?i-1:e.slides.length-1)):($(e.slides[i!==e.slides.length-1?i+1:0]).find("img").click(),e.slideTo(i!==e.slides.length-1?i+1:0))}))},resize:function(){this.update(),this.isBeginning&&this.isEnd?(this.allowTouchMove=!1,$(this.$el.children(".swiper-pagination, .swiper-button-next, .swiper-button-prev")).hide()):(this.allowTouchMove=!0,$(this.$el.children(".swiper-pagination, .swiper-button-next, .swiper-button-prev")).show())}},breakpoints:{991:{slidesPerView:eval(count[2])},1640:{slidesPerView:eval(count[1])}}})}},{key:"calcVerticalThumbsSize",value:function(e,t,i,n,s){var r=n*(e.parent().innerWidth()-i)/(n*(s+1))-t*(s-1)*n/(s+1),o=r/n*s+t*(s-1);e.parent().attr("style","padding-left: "+i+"px;"),e.attr("style","flex-basis: "+r+"px; height: "+o+"px;"),e.find(".swiper-container").attr("style","margin-left: -"+i+"px; margin-right: "+i+"px;"),e.find(".swiper-button-prev.out-container, .swiper-button-next.out-container").attr("style","transform: translateX(-"+i+"px);"),e.css("opacity",1)}},{key:"verticalGallery",value:function verticalGallery(el,createVerticalGallery){var self=this,count=createVerticalGallery.match(/[0-9]/g),productThumbnailsSwiper=new Swiper(el.find(".swiper-container"),{direction:"vertical",slidesPerView:eval(count[0]),spaceBetween:30,slideToClickedSlide:!0,navigation:{nextEl:el.find(".product-images .swiper-button-next"),prevEl:el.find(".product-images .swiper-button-prev")},preloadImages:!1,on:{init:function(){var e=this;this.isBeginning&&this.isEnd&&(this.allowTouchMove=!1,$(this.$el.children(".swiper-pagination, .swiper-button-next, .swiper-button-prev")).hide()),el.find('[class*="product-cover"] [class*="swiper-button"]').on("click",(function(t){var i=$(e.$el.find(".selected")).data("index");$(t.target).hasClass("swiper-button-prev")?($(e.slides[0!==i?i-1:e.slides.length-1]).find("img").click(),e.slideTo(0!==i?i-1:e.slides.length-1)):($(e.slides[i!==e.slides.length-1?i+1:0]).find("img").click(),e.slideTo(i!==e.slides.length-1?i+1:0))}))},resize:function(){self.calcVerticalThumbsSize($(".product-images"),productThumbnailsSwiper.params.spaceBetween,productThumbnailsSwiper.params.spaceBetween,productThumbnailsSwiper.slides[0].attributes["data-k"].value,productThumbnailsSwiper.params.slidesPerView),this.update(),this.isBeginning&&this.isEnd?(this.allowTouchMove=!1,$(this.$el.children(".swiper-pagination, .swiper-button-next, .swiper-button-prev")).hide()):(this.allowTouchMove=!0,$(this.$el.children(".swiper-pagination, .swiper-button-next, .swiper-button-prev")).show())}},breakpoints:{991:{spaceBetween:6,slidesPerView:eval(count[2])},1789:{spaceBetween:20,slidesPerView:eval(count[1])}}});self.calcVerticalThumbsSize(el.find(".product-images"),productThumbnailsSwiper.params.spaceBetween,productThumbnailsSwiper.params.spaceBetween,productThumbnailsSwiper.slides[0].attributes["data-k"].value,productThumbnailsSwiper.params.slidesPerView),productThumbnailsSwiper.update()}},{key:"calcModalWidth",value:function(e,t,i,n){var s=(window.innerHeight-n)*i;s>window.innerWidth&&s<t?s=window.innerWidth:s>=t&&(s=t),e.attr("style","max-width: "+s+"px !important;")}},{key:"modalZoom",value:function(e){var t=this,i=document.getElementById("modalThumb"),n=e.find(".modal-dialog"),s=e.find(".swiper-slide:first").attr("data-modal-width"),r=e.find(".swiper-slide:first").attr("data-modal-k");t.calcModalWidth(n,s,r,0),e.on("shown.bs.modal",(function(){t.coverImage(e),t.gallery(e,"7-5-4",!0),new ResizeSensor(i,(function(){t.calcModalWidth(n,s,r,i.clientHeight)}))})),$(window).on("resize",(function(){t.calcModalWidth(n,s,r,i.clientHeight)}))}},{key:"init",value:function(e,t,i,n,s,r,o){e&&this.coverImage(this.el),t&&this.inputFile(this.el),i&&this.productSpin(this.el),n&&this.modalZoom($("#product-modal")),s&&this.slider(this.el),r&&this.gallery(this.el,r,!1),o&&this.verticalGallery(this.el,o)}}]),ProductCommons}();exports.default=ProductCommons}).call(this,__webpack_require__(2))}});